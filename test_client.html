<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BFHL API Tester</title>
    <style>
        body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; }
        .card { border: 1px solid #ccc; padding: 15px; margin-bottom: 10px; border-radius: 5px; }
        button { cursor: pointer; padding: 8px 15px; background: #007bff; color: white; border: none; border-radius: 4px; }
        button:hover { background: #0056b3; }
        pre { background: #f4f4f4; padding: 10px; border-radius: 4px; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>BFHL API Tester</h1>
    
    <div class="card">
        <h3>1. GET /health</h3>
        <button onclick="testHealth()">Check Health</button>
        <pre id="health-result">Waiting...</pre>
    </div>

    <div class="card">
        <h3>2. POST /bfhl (Fibonacci: 7)</h3>
        <button onclick="testPost({fibonacci: 7}, 'fib-result')">Test Fibonacci</button>
        <pre id="fib-result">Waiting...</pre>
    </div>

    <div class="card">
        <h3>3. POST /bfhl (Prime: [2, 4, 7, 9, 11])</h3>
        <button onclick="testPost({prime: [2, 4, 7, 9, 11]}, 'prime-result')">Test Prime</button>
        <pre id="prime-result">Waiting...</pre>
    </div>

    <div class="card">
        <h3>4. POST /bfhl (AI)</h3>
        <button onclick="testPost({AI: 'What is the capital of India?'}, 'ai-result')">Test AI</button>
        <pre id="ai-result">Waiting...</pre>
    </div>

    <script>
        const BASE_URL = 'http://localhost:3000';

        async function testHealth() {
            try {
                const res = await fetch(`${BASE_URL}/health`);
                const data = await res.json();
                document.getElementById('health-result').textContent = JSON.stringify(data, null, 2);
            } catch (err) {
                document.getElementById('health-result').textContent = 'Error: ' + err.message;
            }
        }

        async function testPost(payload, elementId) {
            try {
                const res = await fetch(`${BASE_URL}/bfhl`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const data = await res.json();
                document.getElementById(elementId).textContent = JSON.stringify(data, null, 2);
            } catch (err) {
                document.getElementById(elementId).textContent = 'Error: ' + err.message;
            }
        }
    </script>
</body>
</html>
